{"version":3,"sources":["utils/constants.ts","utils/database.ts","utils/style.ts","components/Util/RenderedText.tsx","components/DBPreview.tsx","components/ErrorView.tsx","components/Util/Button.tsx","static/logo.webp","components/Header.tsx","components/Util/GeneralPurposeCollapsible.tsx","components/InfoView/ExtendedCorrection/ExtendedCorrection.tsx","components/InfoView/InfoEnd.tsx","components/InfoView/InfoStart.tsx","components/InfoView/InfoView.tsx","components/QuestionsForm/AnswerForm.tsx","components/QuestionsForm/BottomControls.tsx","components/QuestionsForm/QuestionHeader.tsx","components/Util/CollapsibleText.tsx","components/QuestionsForm/QuestionView.tsx","components/QuestionsForm/RecapBar.tsx","components/QuestionsForm/SectionRecap.tsx","components/QuestionsForm/SectionStart.tsx","components/QuestionsForm/Timer.tsx","components/QuestionsForm/TopControls.tsx","components/QuestionsForm/QuestionsForm.tsx","components/Util/Separator.tsx","components/App.tsx","index.tsx"],"names":["sectionInfo","ing","name","order","sample","minutes","coeff","Fraction","mat","com","sub","fis","correctionWeight","getSectionName","key","sheetDict","quesiti_ING","quesiti_MAT","quesiti_COM","quesiti_FIS","a","axios","get","data","db","meta","version","packageJson","Error","getImageURL","fileName","theme","baseStyle","fontFamily","color","createStyle","styles","filter","f","reduce","acc","curr","formatNumber","num","addDecimals","parseFloat","round","toString","toLocaleString","minimumFractionDigits","maximumFractionDigits","replace","RenderedText","text","DBPreview","Object","entries","map","questions","style","q","validated","answers","b","c","d","e","id","ErrorView","hidden","display","internal","buttonStyle","fontSize","alignItems","pStyle","marginBlock","margin","iconStyle","leftIcon","float","marginRight","rightIcon","marginLeft","Button","props","onClick","label","divStyle","height","justifyContent","textStyle","flex","centeredText","logoDivStyle","gap","logoStyle","buttonDivStyle","Header","viewState","src","logo","alt","currentView","selectView","outerDivStyle","collapsibleStyle","background","GeneralPurposeCollapsible","useState","startOpen","isOpen","setOpen","trigger","open","onOpen","onClose","easing","contentStyle","children","flexDirection","padding","docStyle","printButton","ExtendedCorrection","ref","useRef","documentTitle","Date","content","current","sort","section","values","className","question","trim","letter","find","correct","resultTable","href","target","rel","tableDivStyle","alignSelf","tableStyle","borderSpacing","tableCell","paddingInline","textAlign","border","tableHeader","fontWeight","backgroundColor","centeredTextStyle","InfoEnd","correctionGrid","fromEntries","secQuestions","notGiven","wrong","forEach","answer","total","length","weight","score","div","mul","correction","add","testPassed","compare","tengPassed","index","info","toFraction","centered","InfoStart","startTest","InfoView","view","baseText","AnswerForm","letterState","tmpAnswerState","currentQuestion","RadioRow","undefined","verticalAlign","spanStyle","width","toUpperCase","type","value","checked","onChange","event","controlsDiv","paddingBlock","labelStyle","BottomControls","tmpFlaggedState","flagged","setFlagged","updateAnswer","containerStyle","leftContainer","rightContainer","minWidth","questionStyle","paddingLeft","answerLetterStyle","marginInline","boxShadow","QuestionHeader","questionIndex","currentAnswer","shiftQuestionIndex","innerPStyle","CollapsibleText","longText","split","t","i","collapsibleContentStyle","attachmentStyle","imageStyle","maxHeight","QuestionView","marginBottom","attachments","track","barStyle","textDecoration","RecapBar","active","sectionQuestions","sectionAnswers","AnswerCell","currentQuestionIndexState","selected","cellContainerStyle","flexShrink","alignContent","cellSubStyle","selectedCell","outline","borderBottom","paddingTop","paddingBottom","SectionRecap","Math","floor","secondsUsed","minimumIntegerDigits","max","goToNextSection","SectionStart","startSection","numbersStyle","borderRadius","expiring","maxWidth","wordWrap","Timer","timer","hours","seconds","expired","outerDiv","innerDiv","TopControls","currentSection","closeSection","timerExpired","testingStyle","QuestionsForm","qIndex","originalSetQIndex","tmpTimerExpiredState","alertDisplayedState","sectionState","setSection","setView","answersState","setAnswers","timeRecordState","timeRecord","setTimeRecord","shouldShowAlert","showAlert","alert","setQIndex","nextAnswers","nextTR","restart","ignoreAlert","next","shiftQIndex","offset","useTimer","expiryTimestamp","getTimerExpDate","autoStart","onExpire","start","nextSection","sortedInfo","findIndex","getNextSection","res","setSeconds","getSeconds","Separator","App","database","loadDatabase","setQuestions","loadingError","showError","useEffect","readDatabase","then","includes","validQuestions","resIds","_","shuffle","uniq","v","slice","selectRandomQuestions","catch","startsWith","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1053af9.chunk.js","sourcesContent":["import { section } from './database'\nimport Fraction from 'fraction.js'\n\ninterface sectionInfoElement {\n  /** The readable name of the section */\n  name: string\n  /** The order in which the section should be tested */\n  order: number\n  /** The number of questions that should be selected */\n  sample: number\n  /** The number of sub-questions that should be selected (only applies to 'com') */\n  sub?: number\n  /** The maximum number of minutes that the user can use to complete a section */\n  minutes: number\n  /** The weight that this section's score has on the total score ({@link testTotalScore}) */\n  coeff: number | Fraction\n}\n\nexport const sectionInfo: Record<section, sectionInfoElement> = {\n  ing: {\n    name: 'Inglese',\n    order: 1,\n    sample: 30,\n    minutes: 15,\n    coeff: new Fraction('1/3')\n  },\n  mat: {\n    name: 'Matematica',\n    order: 2,\n    sample: 25,\n    minutes: 75,\n    coeff: 2.6\n  },\n  com: {\n    name: 'Comprensione verbale',\n    order: 3,\n    sample: 1,\n    sub: 5,\n    minutes: 10,\n    coeff: 3\n  },\n  fis: {\n    name: 'Fisica',\n    order: 4,\n    sample: 5,\n    minutes: 10,\n    coeff: 2\n  }\n}\n\nexport const testTotalScore = 100\n/** Minimum score to pass the test */\nexport const testPassThreshold = 60\n/** Minimum number of correct questions to pass the test */\nexport const tengPassThreshold = 24\n/** How to weight answer when calculating the section score */\nexport const correctionWeight = {\n  correct: 1,\n  wrong: -0.25,\n  notGiven: 0\n}\n\nexport function getSectionName(key: section) {\n  return sectionInfo[key].name\n}\n\nexport function getNextSection(currentSection: section): section | undefined {\n  const sortedInfo = Object.entries(sectionInfo).sort(\n    (a, b) => a[1].order - b[1].order\n  ) as [section, sectionInfoElement][]\n  const i = sortedInfo.findIndex((e) => e[0] == currentSection)\n  return (sortedInfo[i + 1] || [])[0]\n}\n","import axios from 'axios'\nimport _ from 'underscore'\nimport packageJson from '../../package.json'\nimport { sectionInfo } from './constants'\n\nexport const sheetDict = {\n  quesiti_ING: 'ing',\n  quesiti_MAT: 'mat',\n  quesiti_COM: 'com',\n  quesiti_FIS: 'fis'\n} as const\nexport type section = typeof sheetDict[keyof typeof sheetDict]\n\nexport type answerLetter = 'a' | 'b' | 'c' | 'd' | 'e'\n\nexport interface Question {\n  id: string\n  text: string\n  answers: Record<answerLetter, string>\n  correct: answerLetter\n  attachments: string[]\n  validated: boolean\n\n  // These are only present for COM questions\n  sub?: string\n  track?: string\n}\n\nexport type QuestionsData = Record<section, Question[]>\n\nexport interface Database extends QuestionsData {\n  meta: {\n    version: string\n  }\n}\n\nexport async function readDatabase() {\n  const db = (\n    await axios.get(\n      'https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/main/database.json'\n    )\n  )?.data as Database\n\n  if (db?.meta?.version != packageJson.version)\n    throw new Error(\n      `Database version doesn't match application.\\nDatabase: ${db?.meta?.version}\\nApp: ${packageJson.version}`\n    )\n\n  return db\n}\n\nexport function selectRandomQuestions(db: Database): QuestionsData {\n  return Object.fromEntries(\n    // Manipulate db entries\n    (Object.entries(db) as [section /* or \"meta\" */, Question[]][])\n      // Select only entries associated with a section <=> exclude \"meta\"\n      .filter(([key]) => (Object.values(sheetDict) as string[]).includes(key))\n      .map(([key, questions]) => {\n        // Select only validated questions\n        const validQuestions = questions.filter((q) => q.validated)\n\n        // Get the question ids, remove duplicates, shuffle them, and select the appropriate number of questions.\n        const resIds = _.shuffle(_.uniq(validQuestions.map((v) => v.id))).slice(\n          0,\n          sectionInfo[key].sample\n        )\n\n        // Return only the questions with a selected ID\n        return [\n          key,\n          _.shuffle(validQuestions.filter((q) => resIds.includes(q.id)))\n        ]\n      })\n  ) as QuestionsData\n}\n\nexport function getImageURL(fileName: string) {\n  return `https://raw.githubusercontent.com/PoliNetworkOrg/TheTOLProjectData/main/img/${fileName}`\n}\n","import * as CSS from 'csstype'\nimport Fraction from 'fraction.js'\n\nexport type cssLike = CSS.Properties\n\nexport const theme = {\n  boxShadow:\n    '1px 0 0 0 #606060, 0 1px 0 0 #606060, 1px 1px 0 0 #606060, /* corner */ 1px 0 0 0 #606060 inset, 0 1px 0 0 #606060 inset',\n  lightBackground: '#F3F3EE',\n  lightBorder: '#D5DFE4',\n  primary: '#069',\n  questionYellow: 'yellow',\n  questionGreen: '#00D700',\n  softBlack: '#333',\n  timerGreen: '#009527',\n  timerRed: 'red'\n}\n\nconst baseStyle: CSS.Properties = {\n  fontFamily: 'Verdana, Roboto',\n  color: theme.softBlack\n}\n\nexport function createStyle(...styles: (CSS.Properties | undefined)[]) {\n  return {\n    ...baseStyle,\n    ...styles.filter((f) => f).reduce((acc, curr) => ({ ...acc, ...curr }), {})\n  }\n}\n\nexport function formatNumber(num: number | Fraction, addDecimals = false) {\n  return (\n    typeof num == 'number'\n      ? num\n      : parseFloat(num.round(addDecimals ? 2 : 0).toString())\n  )\n    .toLocaleString('it-IT', {\n      minimumFractionDigits: addDecimals ? 2 : 0,\n      maximumFractionDigits: 2\n    })\n    .replace(/\\./g, ',')\n}\n","import React from 'react'\nimport Latex from 'react-latex'\n\ninterface RenderedTextProps {\n  text: string\n}\nexport default function RenderedText({ text }: RenderedTextProps) {\n  return <Latex>{text}</Latex>\n}\n","import React from 'react'\nimport { section, Database, Question } from '../utils/database'\nimport { createStyle } from '../utils/style'\n\nimport RenderedText from './Util/RenderedText'\n\ninterface DBPreviewProps {\n  db: Database\n}\n\nconst baseStyle = createStyle()\n\nexport default function DBPreview({ db }: DBPreviewProps) {\n  return (\n    <div>\n      {(\n        Object.entries(db).filter(([key]) => key != 'meta') as [\n          section,\n          Question[]\n        ][]\n      ).map(([key, questions]) => (\n        <div key={key} style={baseStyle}>\n          <h3>Section: {key}</h3>\n          <ul>\n            {questions\n              .filter((q) => q.text || key == 'com')\n              .map((q) => (\n                <div key={key + q.id + (q.sub || '')}>\n                  <RenderedText text={q.text} />\n                  <br />\n                  <p>Valid: {q.validated + ''}</p>\n                  <br />\n                  <RenderedText text={q.answers.a} />\n                  <br />\n                  <RenderedText text={q.answers.b} />\n                  <br />\n                  <RenderedText text={q.answers.c} />\n                  <br />\n                  <RenderedText text={q.answers.d} />\n                  <br />\n                  <RenderedText text={q.answers.e} />\n                  <br />\n                  <br />\n                  <br />\n                </div>\n              ))}\n          </ul>\n        </div>\n      ))}\n    </div>\n  )\n}\n","import React from 'react'\n\ninterface ErrorViewProps {\n  hidden: boolean\n  display: string\n  internal?: Error\n}\n\nexport default function ErrorView({\n  hidden,\n  display,\n  internal\n}: ErrorViewProps) {\n  return (\n    <div hidden={hidden}>\n      <h3>{display}</h3>\n      <blockquote>{internal + ''}</blockquote>\n    </div>\n  )\n}\n","import React from 'react'\nimport { createStyle, cssLike } from '../../utils/style'\n\nconst buttonStyle = createStyle({\n  display: 'flex',\n  fontFamily: ' Arial',\n  fontSize: '9.5pt',\n  alignItems: 'center'\n})\n\nconst pStyle = createStyle({\n  display: 'inline-block',\n  marginBlock: 0,\n  margin: 0,\n  fontFamily: 'Arial'\n})\n\nconst iconStyle = createStyle({\n  display: 'flex'\n})\nconst leftIcon = createStyle(iconStyle, {\n  float: 'left',\n  marginRight: '2px'\n})\nconst rightIcon = createStyle(iconStyle, {\n  float: 'right',\n  marginLeft: '2px'\n})\n\ninterface ButtonProps {\n  label: string\n  onClick?: () => void\n  style?: cssLike\n  leftIcon?: () => JSX.Element\n  rightIcon?: () => JSX.Element\n}\n\nexport default function Button(props: ButtonProps) {\n  return (\n    <button\n      style={createStyle(buttonStyle, props.style || {})}\n      onClick={props.onClick}\n    >\n      <span style={leftIcon}>{props.leftIcon && props.leftIcon()}</span>\n      <p style={pStyle}>{props.label}</p>\n      <span style={rightIcon}>{props.rightIcon && props.rightIcon()}</span>\n    </button>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/logo.34b8e2e9.webp\";","import React from 'react'\nimport { createStyle } from '../utils/style'\nimport { statePair } from '../utils/types'\nimport { view } from './App'\nimport Button from './Util/Button'\nimport logo from '../static/logo.webp'\n\nconst divStyle = createStyle({\n  height: '70px',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between'\n})\n\nconst textStyle = createStyle({\n  flex: 1,\n  fontSize: '18pt',\n  display: 'inline-block'\n})\n\nconst centeredText = createStyle(textStyle, {\n  display: 'flex',\n  justifyContent: 'center'\n})\n\nconst logoDivStyle = createStyle({\n  flex: 1,\n  display: 'flex',\n  alignItems: 'center',\n  gap: '10px',\n  margin: '5px'\n})\n\nconst logoStyle = createStyle({\n  height: '60px'\n})\n\nconst buttonDivStyle = createStyle({\n  display: 'flex',\n  flex: 1,\n  justifyContent: 'flex-end'\n})\n\ninterface HeaderProps {\n  viewState: statePair<view>\n}\n\nexport default function Header({ viewState }: HeaderProps) {\n  return (\n    <div style={divStyle}>\n      <div style={logoDivStyle}>\n        <img src={logo} alt=\"logo\" style={logoStyle} />\n        <h1 style={textStyle}>PoliNetwork</h1>\n      </div>\n      <h1 style={centeredText}>The TOL Project</h1>\n      <div style={buttonDivStyle}>\n        <Button\n          label=\"Toggle database view\"\n          onClick={() => {\n            const [currentView, selectView] = viewState\n            if (currentView == 'dbPreview') selectView('INFO-start')\n            else selectView('dbPreview')\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n","import React, { ReactNode, useState } from 'react'\nimport Collapsible from 'react-collapsible'\nimport { createStyle, cssLike, theme } from '../../utils/style'\nimport Button from './Button'\n\nconst outerDivStyle = createStyle({\n  margin: '10px'\n})\n\nconst collapsibleStyle = createStyle({\n  background: theme.lightBackground,\n  margin: '5px'\n})\n\ninterface GeneralPurposeCollapsibleProps {\n  label: string\n  children: ReactNode\n  startOpen?: boolean\n  contentStyle?: cssLike\n  outerDivStyle?: cssLike\n  onOpen?: () => void\n  onClose?: () => void\n}\nexport default function GeneralPurposeCollapsible(\n  props: GeneralPurposeCollapsibleProps\n) {\n  const [isOpen, setOpen] = useState(props.startOpen ?? true)\n\n  return (\n    <div style={createStyle(outerDivStyle, props.outerDivStyle)}>\n      <Collapsible\n        trigger={\n          <Button label={props.label} onClick={() => setOpen(!isOpen)} />\n        }\n        open={isOpen}\n        onOpen={props.onOpen}\n        onClose={props.onClose}\n        easing=\"ease-in-out\"\n      >\n        <div style={createStyle(collapsibleStyle, props.contentStyle)}>\n          {props.children}\n        </div>\n      </Collapsible>\n    </div>\n  )\n}\n","import React, { ReactNode, useRef } from 'react'\nimport ReactToPrint from 'react-to-print'\nimport { Question, QuestionsData, section } from '../../../utils/database'\nimport { AnswersData } from '../../App'\nimport { sectionInfo } from '../../../utils/constants'\nimport { createStyle } from '../../../utils/style'\nimport RenderedText from '../../Util/RenderedText'\nimport GeneralPurposeCollapsible from '../../Util/GeneralPurposeCollapsible'\nimport Button from '../../Util/Button'\nimport './ExtendedCorrection.css'\n\nconst collapsibleStyle = createStyle({\n  display: 'flex',\n  flexDirection: 'column',\n  padding: '15px',\n  gap: '10px'\n})\n\nconst docStyle = createStyle()\n\nconst printButton = createStyle({\n  display: 'flex',\n  justifyContent: 'center'\n})\n\ninterface ExtendedCorrectionProps {\n  answers: AnswersData\n  questions: QuestionsData\n  resultTable: ReactNode\n}\n\nexport default function ExtendedCorrection(props: ExtendedCorrectionProps) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ref = useRef<any>()\n\n  return (\n    <GeneralPurposeCollapsible label=\"Correzione estesa\" startOpen={false}>\n      <div style={collapsibleStyle}>\n        <ReactToPrint\n          documentTitle={`TheTOLProject ${new Date().toLocaleString()}`}\n          content={() => ref.current}\n          trigger={() => (\n            <div style={printButton}>\n              <Button label=\"Stampa/salva correzione\" />\n            </div>\n          )}\n        />\n        <div ref={ref} style={docStyle}>\n          <div>\n            {(Object.entries(props.questions) as [section, Question[]][])\n              .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n              .map(([section, values]) => (\n                <div key={section}>\n                  <div className=\"page-break\" />\n                  <div>\n                    <b>{sectionInfo[section].name}</b>\n                    <ol>\n                      {values.map((question) => (\n                        <div key={question.id + (question.sub || 0)}>\n                          <li>\n                            <RenderedText\n                              text={`\n                            ${question.text} [${question.id}${\n                                question.sub ? '-' + question.sub : ''\n                              }]\n                            `.trim()}\n                            />{' '}\n                            <u>\n                              {(() => {\n                                const letter = props.answers[section].find(\n                                  (a) =>\n                                    a?.id == question.id &&\n                                    a?.sub == question.sub\n                                )?.letter\n\n                                return letter\n                                  ? letter == question.correct\n                                    ? 'Esatta'\n                                    : 'Errata'\n                                  : 'Senza risposta'\n                              })()}\n                            </u>\n                          </li>\n                        </div>\n                      ))}\n                    </ol>\n                  </div>\n                </div>\n              ))}{' '}\n            <div className=\"page-break\" />\n            <div>\n              {props.resultTable}\n              <br />\n              Hai delle domande sui quesiti e la loro risoluzione? Falle sul{' '}\n              <a\n                href=\"https://t.me/joinchat/_zugEikozmcyMzA0\"\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n              >\n                Gruppo preparazione TOL di PoliNetwork\n              </a>\n              !\n              <br />\n              Per fare riferimento alla domanda manda, assieme al testo, anche\n              l'ID (il numero che trovi fra [] dopo il testo).\n            </div>\n          </div>\n        </div>\n      </div>\n    </GeneralPurposeCollapsible>\n  )\n}\n","import Fraction from 'fraction.js'\nimport React from 'react'\nimport {\n  correctionWeight,\n  getSectionName,\n  sectionInfo,\n  tengPassThreshold,\n  testPassThreshold,\n  testTotalScore\n} from '../../utils/constants'\nimport { Question, QuestionsData, section } from '../../utils/database'\nimport { createStyle, formatNumber, theme } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport ExtendedCorrection from './ExtendedCorrection/ExtendedCorrection'\nimport GeneralPurposeCollapsible from '../Util/GeneralPurposeCollapsible'\n\nconst divStyle = createStyle({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  fontSize: '11pt'\n})\n\nconst tableDivStyle = createStyle({ alignSelf: 'center' })\n\nconst tableStyle = createStyle({ borderSpacing: 0 })\n\nconst tableCell = createStyle({\n  padding: '5px',\n  paddingInline: '10px',\n  textAlign: 'center',\n  border: `thin solid ${theme.lightBorder}`,\n  borderSpacing: '0px',\n  fontSize: '9.5pt'\n})\n\nconst tableHeader = createStyle(tableCell, {\n  fontWeight: 'bold',\n  backgroundColor: theme.lightBackground,\n  textAlign: 'left'\n})\n\nconst centeredTextStyle = createStyle({\n  textAlign: 'center'\n})\n\nconst collapsibleStyle = createStyle({\n  margin: '2px',\n  padding: '10px',\n  textAlign: 'justify'\n})\n\ninterface InfoEndProps {\n  answers: AnswersData\n  questions: QuestionsData\n}\nexport default function InfoEnd(props: InfoEndProps) {\n  const { answers, questions } = props\n\n  const correctionGrid = Object.fromEntries(\n    (Object.entries(questions) as [section, Question[]][]).map(\n      ([section, secQuestions]) => {\n        let correct = 0,\n          notGiven = 0,\n          wrong = 0\n\n        secQuestions.forEach((q) => {\n          const answer = answers[section].find(\n            (a) => a && a.id == q.id && a.sub == q.sub\n          )\n\n          if (!answer || !answer.letter) notGiven++\n          else if (answer.letter == q.correct) correct++\n          else wrong++\n        })\n\n        const total = secQuestions.length,\n          sample = sectionInfo[section].sample,\n          sub = sectionInfo[section].sub || 1,\n          weight = sectionInfo[section].coeff\n\n        return [\n          section,\n          {\n            total,\n            correct,\n            notGiven,\n            wrong,\n            weight,\n            score: new Fraction(\n              correctionWeight.correct * correct +\n                correctionWeight.wrong * wrong +\n                correctionWeight.notGiven * notGiven\n            )\n              .div(total)\n              .mul(sample * sub)\n          }\n        ]\n      }\n    )\n  )\n\n  const score = (\n    Object.entries(correctionGrid) as [section, typeof correctionGrid[string]][]\n  )\n    .map(([, correction]) => correction.score.mul(correction.weight))\n    .reduce((acc, curr) => acc.add(curr), new Fraction(0))\n\n  const testPassed = score.compare(testPassThreshold) >= 0,\n    tengPassed = correctionGrid.ing?.correct >= tengPassThreshold\n\n  const resultTable = () => (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      <p style={centeredTextStyle}>\n        <br />\n        Esito:{' '}\n        {testPassed\n          ? `Superato${!tengPassed ? ' (OFA TENG)' : ''}`\n          : `Non superato ${\n              !tengPassed ? '(OFA TEST + OFA TENG)' : '(OFA TEST)'\n            }`}\n        <br />\n        Punteggio calcolato: {formatNumber(score, true)} /{' '}\n        {formatNumber(testTotalScore, true)}\n        <br />\n        Punteggio arrotondato: {formatNumber(score)} /{' '}\n        {formatNumber(testTotalScore)}\n      </p>\n      <br />\n\n      <div style={tableDivStyle}>\n        <table style={tableStyle}>\n          <tr>\n            <td></td>\n            <td style={tableHeader}>Punteggio sezione</td>\n            <td style={tableHeader}>N° quesiti</td>\n            <td style={tableHeader}>Esatti</td>\n            <td style={tableHeader}>Errati</td>\n            <td style={tableHeader}>Senza risposta</td>\n          </tr>\n          {(\n            Object.entries(correctionGrid) as [\n              section,\n              typeof correctionGrid[section]\n            ][]\n          )\n            .sort((a, b) => sectionInfo[a[0]].order - sectionInfo[b[0]].order)\n            .map(([section, correction]) => (\n              <tr key={section}>\n                <td style={tableHeader}>{getSectionName(section)}</td>\n                <td style={tableCell}>\n                  {formatNumber(correction.score, true)}\n                </td>\n                <td style={tableCell}>{correction.total}</td>\n                <td style={tableCell}>{correction.correct}</td>\n                <td style={tableCell}>{correction.wrong}</td>\n                <td style={tableCell}>{correction.notGiven}</td>\n              </tr>\n            ))}\n        </table>\n      </div>\n      <br />\n    </div>\n  )\n\n  return (\n    <div style={divStyle}>\n      {resultTable()}\n\n      <GeneralPurposeCollapsible\n        label=\"Come viene calcolato il punteggio\"\n        startOpen={false}\n      >\n        <p style={collapsibleStyle}>\n          Il <b>punteggio massimo</b> conseguibile{' '}\n          <b>è di {formatNumber(testTotalScore, true)}</b> e viene espresso fino\n          alla seconda cifra decimale.\n          <br />\n          L'attribuzione di <b>OFA TEST</b> (Obblighi Formativi Aggiunti)\n          avviene quando il punteggio test, arrotondato all'intero più vicino,{' '}\n          <b>è minore di {formatNumber(testPassThreshold)}</b>.<br />\n          L'attribuzione di <b>OFA TENG</b> avviene quando, considerando la sola\n          sezione di {sectionInfo.ing.name}, il numero di risposte corrette{' '}\n          <b>è inferiore a {formatNumber(tengPassThreshold)}</b>.\n          <br />\n          <br />\n          Il <b>punteggio</b> della prova viene calcolato attribuendo:\n          <ul>\n            <li>\n              {formatNumber(correctionWeight.correct)} punto ad ogni risposta\n              esatta\n            </li>\n            <li>\n              {formatNumber(correctionWeight.wrong)} punti ad ogni risposta\n              errata\n            </li>\n            <li>\n              {formatNumber(correctionWeight.notGiven)} punti per ogni risposta\n              non data\n            </li>\n          </ul>\n          e assegnando\n          <ul>\n            {Object.entries(sectionInfo).map(([, info], index) => (\n              <li key={index}>\n                peso{' '}\n                {typeof info.coeff == 'number'\n                  ? formatNumber(info.coeff)\n                  : info.coeff.toFraction()}{' '}\n                ad ogni quesito di {info.name}\n              </li>\n            ))}\n          </ul>\n          Il <b>punteggio</b> complessivo viene arrotondato all'intero più\n          vicino (es: il punteggio 59,49 viene arrotondato a 59, il punteggio\n          59,50 a 60)\n        </p>\n      </GeneralPurposeCollapsible>\n\n      <ExtendedCorrection\n        answers={props.answers}\n        questions={props.questions}\n        resultTable={resultTable()}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport { createStyle } from '../../utils/style'\nimport Button from '../Util/Button'\n\nconst divStyle = createStyle({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  margin: '10px'\n})\n\nconst centered = createStyle({\n  textAlign: 'center',\n  display: 'block'\n})\n\ninterface InfoStartProps {\n  startTest: () => void\n}\nexport default function InfoStart(props: InfoStartProps) {\n  return (\n    <div style={divStyle}>\n      <p>Paragrafo sullo scopo del progetto etc. etc.</p>\n      <p>\n        <span style={centered}>DISCLAIMER</span>\n        \"The TOL Project\" (Progetto) non è in alcun modo collegato al\n        Politecnico di Milano ma è gestito gratuitamente da studenti. Gli autori\n        del Progetto non si assumono alcuna responsabilità, né garantiscono\n        espressamente o implicitamente l'accuratezza o l'affidabilità dei\n        contenuti di questo sito ai fini del superamento del test di ammissione\n        del Politecnico di Milano.\n        <span style={centered}>---</span>\n        \"The TOL Project\" (Project) is in no way connected to Politecnico di\n        Milano but is managed free of charge by students. The authors of the\n        Project do not assume any responsibility, nor do they expressly or\n        implicitly guarantee the accuracy or reliability of the contents of this\n        site for the purpose of passing the admission test at Politecnico di\n        Milano.\n      </p>\n      <div>\n        <Button label=\"Inizia il test\" onClick={props.startTest} />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { QuestionsData } from '../../utils/database'\nimport { statePair } from '../../utils/types'\nimport { AnswersData, view } from '../App'\nimport InfoEnd from './InfoEnd'\nimport InfoStart from './InfoStart'\n\ninterface InfoViewProps {\n  answers: AnswersData\n  questions: QuestionsData\n  viewState: statePair<view>\n}\nexport default function InfoView(props: InfoViewProps) {\n  const view = props.viewState[0]\n\n  return view == 'INFO-start' ? (\n    <InfoStart\n      startTest={() => {\n        props.viewState[1]('TOL-startSec')\n      }}\n    />\n  ) : view == 'INFO-end' ? (\n    <InfoEnd answers={props.answers} questions={props.questions} />\n  ) : (\n    <div />\n  )\n}\n","import React from 'react'\nimport { Question } from '../../utils/database'\nimport { createStyle } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport RenderedText from '../Util/RenderedText'\n\nconst baseText = createStyle({\n  fontSize: '11pt'\n})\n\ninterface AnswerFormProps {\n  currentAnswer: Answer | undefined\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n}\n\nexport default function AnswerForm(props: AnswerFormProps) {\n  const letterState = props.tmpAnswerState\n\n  if (!props.currentQuestion)\n    return (\n      <span style={baseText}>\n        <br />\n        No answers to display ¯\\_(ツ)_/¯\n      </span>\n    )\n\n  return (\n    <div>\n      <RadioRow\n        letter=\"a\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.a}\n      />\n      <RadioRow\n        letter=\"b\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.b}\n      />\n      <RadioRow\n        letter=\"c\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.c}\n      />\n      <RadioRow\n        letter=\"d\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.d}\n      />\n      <RadioRow\n        letter=\"e\"\n        letterState={letterState}\n        text={props.currentQuestion.answers.e}\n      />\n      <RadioRow letter={undefined} letterState={letterState} text=\"Non so\" />\n    </div>\n  )\n}\n\ninterface RadioRowProps {\n  letter: Answer['letter']\n  letterState: statePair<Answer['letter']>\n  text: string\n}\nfunction RadioRow(props: RadioRowProps) {\n  const textStyle = createStyle({\n    fontWeight: 'bold',\n    textAlign: 'center',\n    verticalAlign: 'middle',\n    paddingInline: '10px'\n  })\n  const spanStyle = createStyle({\n    width: '2em',\n    float: 'left',\n    display: 'inline-block'\n  })\n\n  return (\n    <tr style={baseText}>\n      <label>\n        <td style={textStyle}>\n          <span style={spanStyle}>{props.letter?.toUpperCase() || '?'} </span>\n          <input\n            type=\"radio\"\n            value={props.letter}\n            checked={props.letter == props.letterState[0]}\n            onChange={(event) => {\n              // @ts-expect-error The value is correct\n              props.letterState[1](event.target.value || undefined)\n            }}\n          />\n        </td>\n        <td>\n          <RenderedText text={props.text} />\n        </td>\n      </label>\n    </tr>\n  )\n}\n","import React from 'react'\nimport { createStyle, theme } from '../../utils/style'\nimport { FaCheck } from 'react-icons/fa'\nimport Button from '../Util/Button'\nimport { statePair } from '../../utils/types'\nimport { Answer } from '../App'\nimport { Question } from '../../utils/database'\n\nconst controlsDiv = createStyle({\n  display: 'flex',\n  flex: 1,\n  justifyContent: 'flex-end',\n  fontSize: '9.5pt',\n  verticalAlign: 'middle',\n  gap: '10px',\n  paddingBlock: '10px'\n})\n\nconst labelStyle = createStyle({ display: 'flex', alignItems: 'center' })\n\nconst iconStyle = createStyle({\n  color: theme.timerGreen\n})\n\ninterface BottomControlsProps {\n  currentQuestion: Question\n  tmpAnswerState: statePair<Answer['letter']>\n  tmpFlaggedState: statePair<boolean>\n  updateAnswer: (updatedAnswer: Answer) => void\n}\nexport default function BottomControls(props: BottomControlsProps) {\n  const [flagged, setFlagged] = props.tmpFlaggedState\n\n  if (!props.currentQuestion) return <div style={controlsDiv} />\n\n  return (\n    <div style={controlsDiv}>\n      <label style={labelStyle}>\n        <input\n          type=\"checkbox\"\n          checked={flagged}\n          onChange={() => {\n            setFlagged(!flagged)\n          }}\n        />\n        <span>Da rivedere</span>\n      </label>\n      <Button\n        label=\"Conferma e vai alla successiva\"\n        leftIcon={() => <FaCheck style={iconStyle} />}\n        onClick={() => {\n          props.updateAnswer({\n            id: props.currentQuestion.id,\n            sub: props.currentQuestion.sub,\n            letter: props.tmpAnswerState[0],\n            flagged\n          })\n        }}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport { Question } from '../../utils/database'\nimport { createStyle, theme } from '../../utils/style'\nimport { Answer } from '../App'\nimport { IoMdArrowRoundBack, IoMdArrowRoundForward } from 'react-icons/io'\nimport Button from '../Util/Button'\n\nconst containerStyle = createStyle({\n  display: 'flex',\n  justifyContent: 'space-between'\n})\n\nconst leftContainer = createStyle({\n  display: 'flex'\n})\n\nconst rightContainer = createStyle({\n  display: 'flex',\n  padding: '1em',\n  gap: '5px'\n})\n\nconst pStyle = createStyle({\n  textAlign: 'left',\n  fontSize: '11pt',\n  minWidth: '4em',\n  padding: '7.5px'\n})\n\nconst questionStyle = createStyle(pStyle, {\n  fontWeight: 'bold',\n  width: '7.1em',\n  paddingLeft: 0\n})\n\nconst answerLetterStyle = createStyle(pStyle, {\n  textAlign: 'center',\n  marginInline: '5px',\n  boxShadow: theme.boxShadow\n})\n\nconst iconStyle = createStyle({\n  height: '17.5px',\n  width: '17.5px',\n  color: theme.primary\n})\n\nconst buttonStyle = createStyle({\n  paddingBlock: 0\n})\n\ninterface QuestionHeaderProps {\n  currentAnswer: Answer\n  questionIndex: number\n  sectionQuestions: Question[]\n  shiftQuestionIndex: (offset: number) => void\n}\nexport default function QuestionHeader(props: QuestionHeaderProps) {\n  return (\n    <div style={containerStyle}>\n      <div style={leftContainer}>\n        <p style={questionStyle}>Domanda {props.questionIndex + 1}</p>\n        <p\n          style={{\n            ...answerLetterStyle,\n            backgroundColor: props.currentAnswer?.flagged\n              ? theme.questionYellow\n              : props.currentAnswer?.letter\n              ? theme.questionGreen\n              : 'inherit'\n          }}\n        >\n          {(props.currentAnswer?.letter?.toUpperCase() || '') +\n            (props.currentAnswer?.flagged ? '?' : '') || ' '}\n        </p>\n        <p style={pStyle}>\n          Risposta {props.currentAnswer?.letter ? '' : 'non '}data\n        </p>\n      </div>\n      <div style={rightContainer}>\n        <Button\n          label=\"precedente\"\n          onClick={() => props.shiftQuestionIndex(-1)}\n          style={buttonStyle}\n          leftIcon={() => <IoMdArrowRoundBack style={iconStyle} />}\n        />\n        <Button\n          label=\"successiva\"\n          onClick={() => props.shiftQuestionIndex(1)}\n          style={buttonStyle}\n          rightIcon={() => <IoMdArrowRoundForward style={iconStyle} />}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { createStyle } from '../../utils/style'\nimport GeneralPurposeCollapsible from './GeneralPurposeCollapsible'\n\nconst pStyle = createStyle({\n  margin: '2px',\n  padding: '10px',\n  textAlign: 'justify'\n})\n\nconst innerPStyle = createStyle({ padding: '1px', margin: 0 })\n\ninterface CollapsibleTextProps {\n  label: string\n  longText: string\n  startOpen?: boolean\n}\nexport default function CollapsibleText(props: CollapsibleTextProps) {\n  return (\n    <GeneralPurposeCollapsible label={props.label} startOpen={props.startOpen}>\n      <div style={pStyle}>\n        {props.longText\n          .trim()\n          .split('\\n')\n          .map((t, i) => (\n            <p style={innerPStyle} key={i}>\n              {t}\n            </p>\n          ))}\n      </div>\n    </GeneralPurposeCollapsible>\n  )\n}\n","import React from 'react'\nimport { getImageURL, Question } from '../../utils/database'\nimport { createStyle } from '../../utils/style'\nimport CollapsibleText from '../Util/CollapsibleText'\nimport GeneralPurposeCollapsible from '../Util/GeneralPurposeCollapsible'\nimport RenderedText from '../Util/RenderedText'\n\nconst containerStyle = createStyle({\n  marginBlock: 0,\n  display: 'flex',\n  flexDirection: 'column'\n})\n\nconst collapsibleContentStyle = createStyle({\n  padding: '10px',\n  display: 'flex',\n  flexDirection: 'column',\n  gap: '15px'\n})\n\nconst attachmentStyle = createStyle({\n  display: 'flex',\n  flexDirection: 'column',\n  gap: '5px'\n})\n\nconst imageStyle = createStyle({\n  maxHeight: '500px',\n  width: 'fit-content'\n})\n\ninterface QuestionViewProps {\n  question: Question\n}\n\nexport default function QuestionView({ question }: QuestionViewProps) {\n  if (!question)\n    return <span style={containerStyle}>No question to display ¯\\_(ツ)_/¯</span>\n\n  return (\n    <div style={{ marginBottom: question.attachments?.length ? 0 : '15px' }}>\n      {question.track && (\n        <CollapsibleText\n          label=\"mostra/nascondi brano\"\n          longText={question.track}\n        />\n      )}\n      <div style={containerStyle}>\n        <RenderedText text={question.text}></RenderedText>\n\n        {question.attachments?.length && (\n          <GeneralPurposeCollapsible\n            label=\"mostra/nascondi allegati\"\n            contentStyle={collapsibleContentStyle}\n          >\n            {question.attachments.map((fileName, index) => (\n              <span key={index + 1} style={attachmentStyle}>\n                <p style={containerStyle}>Allegato {index + 1}:</p>\n                <img src={getImageURL(fileName)} style={imageStyle} />\n              </span>\n            ))}\n          </GeneralPurposeCollapsible>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { answerLetter, section, QuestionsData } from '../../utils/database'\nimport { createStyle, theme } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { AnswersData } from '../App'\n\nconst defaultBorder = 'thin solid #606060'\n\nconst barStyle = createStyle({\n  display: 'flex',\n  fontSize: '9.5pt',\n  textDecoration: 'none',\n  color: theme.primary\n})\n\ninterface RecapBarProps {\n  active: boolean\n  currentQuestionIndexState: statePair<number>\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n}\nexport default function RecapBar(props: RecapBarProps) {\n  return (\n    <a style={barStyle} {...(props.active ? { href: '#' } : {})}>\n      {props.sectionQuestions.map((q, i) => {\n        const answer = props.sectionAnswers.find(\n          (a) => a && a.id == q.id && (q.sub ? q.sub == a.sub : true)\n        )\n        return (\n          <AnswerCell\n            key={i}\n            index={i}\n            letter={answer?.letter}\n            flagged={answer?.flagged || false}\n            onClick={() => {\n              if (props.active) props.currentQuestionIndexState[1](i)\n            }}\n            selected={props.active && props.currentQuestionIndexState[0] == i}\n          />\n        )\n      })}\n    </a>\n  )\n}\n\nconst cellContainerStyle = createStyle({\n  display: 'flex',\n  flexShrink: 1,\n  flexDirection: 'column',\n  alignContent: 'baseline',\n  textAlign: 'center',\n  width: '4em'\n})\n\nconst cellSubStyle = createStyle({\n  padding: '0.3em',\n  height: '1.2em',\n  boxShadow: theme.boxShadow\n})\n\nconst selectedCell = createStyle({\n  outline: `5px solid ${theme.primary}`,\n  marginInline: '4px',\n  color: 'black'\n})\n\nconst pStyle = createStyle({\n  margin: 'auto'\n})\n\ninterface AnswerCellProps {\n  index: number\n  letter: answerLetter | undefined\n  flagged: boolean\n  onClick: () => void\n  selected: boolean\n}\nfunction AnswerCell(props: AnswerCellProps) {\n  return (\n    <div\n      style={{\n        ...cellContainerStyle,\n        backgroundColor: theme.lightBackground,\n        ...(props.selected ? selectedCell : {})\n      }}\n      onClick={props.onClick}\n    >\n      <div\n        style={{\n          ...cellSubStyle,\n          borderBottom: defaultBorder,\n          ...(props.selected ? { fontWeight: 'bold' } : {})\n        }}\n      >\n        <p style={pStyle}>{props.index + 1}</p>\n      </div>\n      <div\n        style={{\n          ...cellSubStyle,\n          backgroundColor: props.flagged\n            ? theme.questionYellow\n            : props.letter\n            ? theme.questionGreen\n            : 'white'\n        }}\n      >\n        <p style={pStyle}>\n          {props.letter?.toUpperCase() || ' '}\n          {props.flagged && '?'}\n        </p>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { sectionInfo } from '../../utils/constants'\nimport { QuestionsData, section } from '../../utils/database'\nimport { createStyle, formatNumber } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\n\nconst baseStyle = createStyle({\n  display: 'flex',\n  paddingTop: '10px',\n  paddingBottom: '20px',\n  alignItems: 'center',\n  flexDirection: 'column'\n})\n\ninterface SectionRecapProps {\n  goToNextSection: () => void\n  section: section\n  sectionAnswers: AnswersData[section]\n  sectionQuestions: QuestionsData[section]\n  secondsUsed: number\n}\nexport default function SectionRecap(props: SectionRecapProps) {\n  const info = sectionInfo[props.section]\n\n  return (\n    <div style={baseStyle}>\n      <p>\n        Sezione conclusa: {info.name}\n        <br />-{' '}\n        {formatNumber(\n          props.sectionAnswers.reduce(\n            (acc, curr) => (curr.letter ? acc + 1 : acc),\n            0\n          )\n        )}{' '}\n        / {formatNumber(props.sectionQuestions.length)} risposte date\n        <br />- Tempo utilizzato:{' '}\n        {Math.floor((props.secondsUsed / 60) % 60).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {Math.floor(props.secondsUsed / 60).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {(props.secondsUsed % 60).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}{' '}\n        / {Math.floor(info.minutes / 60)}:{info.minutes % 60}:00 (\n        {Math.floor(\n          (info.minutes * 60 - props.secondsUsed) / 60 / 60\n        ).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {Math.floor(\n          ((info.minutes * 60 - props.secondsUsed) / 60) % 60\n        ).toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {((info.minutes * 60 - props.secondsUsed) % 60).toLocaleString(\n          undefined,\n          {\n            minimumIntegerDigits: 2\n          }\n        )}{' '}\n        rimanente)\n      </p>\n      <Button\n        label={\n          info.order ==\n          Math.max(...Object.values(sectionInfo).map((i) => i.order))\n            ? 'Vedi esito del test'\n            : 'Prossima sezione'\n        }\n        onClick={props.goToNextSection}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport { sectionInfo } from '../../utils/constants'\nimport { section } from '../../utils/database'\nimport { createStyle, formatNumber } from '../../utils/style'\nimport Button from '../Util/Button'\n\nconst baseStyle = createStyle({\n  display: 'flex',\n  paddingTop: '10px',\n  paddingBottom: '20px',\n  alignItems: 'center',\n  flexDirection: 'column'\n})\n\ninterface SectionStartProps {\n  section: section\n  startSection: () => void\n}\nexport default function SectionStart(props: SectionStartProps) {\n  const info = sectionInfo[props.section]\n\n  return (\n    <div style={baseStyle}>\n      <p>\n        Stai per iniziare: {info.name}\n        <br />-{' '}\n        {props.section == 'com'\n          ? `${formatNumber(info.sample)} bran${info.sample > 1 ? 'i' : 'o'}, `\n          : ''}\n        {formatNumber(props.section == 'com' ? info.sub || 0 : info.sample)}{' '}\n        domande\n        <br />- {formatNumber(info.minutes)} minuti\n        <br />- Peso sezione:{' '}\n        {typeof info.coeff == 'number'\n          ? formatNumber(info.coeff)\n          : info.coeff.toFraction()}\n      </p>\n      <Button label=\"Inzia sezione\" onClick={props.startSection} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { createStyle, theme } from '../../utils/style'\nimport { FiClock } from 'react-icons/fi'\n\nconst alertThreshold = 60\n\nconst containerStyle = createStyle({\n  color: theme.timerGreen,\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n  gap: '5px'\n})\n\nconst numbersStyle = createStyle({\n  display: 'flex',\n  fontWeight: 'bold',\n  color: 'inherit',\n  border: '2px solid',\n  borderRadius: '4px',\n  height: '1.75em',\n  fontSize: '1.25em',\n  alignItems: 'center',\n  paddingInline: '10px'\n})\n\nconst expiring = createStyle({\n  color: theme.timerRed\n})\n\nconst iconStyle = createStyle({\n  color: 'inherit',\n  height: '2.5em',\n  width: 'auto'\n})\n\nconst pStyle = createStyle({\n  display: 'flex',\n  fontSize: '0.75em',\n  maxWidth: '12em',\n  textAlign: 'left',\n  wordWrap: 'normal'\n})\n\ninterface TimerProps {\n  timer: TimerResult\n  expired: boolean\n}\nexport default function Timer(props: TimerProps) {\n  const { timer } = props\n\n  return (\n    <div\n      style={{\n        ...containerStyle,\n        ...((timer.hours * 60 + timer.minutes) * 60 + timer.seconds <\n          alertThreshold &&\n        !(timer.hours + timer.minutes + timer.seconds == 0 && !props.expired)\n          ? expiring\n          : {})\n      }}\n    >\n      <FiClock style={iconStyle} />\n      <div style={numbersStyle}>\n        {timer.hours.toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :\n        {timer.minutes.toLocaleString(undefined, {\n          minimumIntegerDigits: 2\n        })}\n        :{timer.seconds.toLocaleString(undefined, { minimumIntegerDigits: 2 })}\n      </div>\n      <p style={pStyle}>\n        Tempo rimanente\n        <br /> per la sezione corrente\n      </p>\n    </div>\n  )\n}\n","import React from 'react'\nimport { TimerResult } from 'react-timer-hook'\nimport { getSectionName } from '../../utils/constants'\nimport { section, QuestionsData } from '../../utils/database'\nimport { createStyle } from '../../utils/style'\nimport { AnswersData } from '../App'\nimport Button from '../Util/Button'\nimport Timer from './Timer'\n\nconst outerDiv = createStyle({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between'\n})\n\nconst innerDiv = createStyle({\n  display: 'flex',\n  alignItems: 'baseline',\n  flexDirection: 'row',\n  gap: '15px',\n  fontSize: '11pt'\n})\n\ninterface TopControlsProps {\n  active: boolean\n  answers: AnswersData\n  closeSection: () => void\n  currentSection: section\n  timer: TimerResult\n  timerExpired: boolean\n  questions: QuestionsData\n}\n\nexport default function TopControls(props: TopControlsProps) {\n  const { currentSection } = props\n\n  return (\n    <div style={outerDiv}>\n      <div style={innerDiv}>\n        <div>\n          <p>\n            Sezione: <b>{getSectionName(currentSection)}</b> <br />\n            Riposte: {props.answers[currentSection].length} /{' '}\n            {props.questions[currentSection].length} (\n            {props.answers[currentSection].reduce(\n              (acc, curr) => acc + (curr.flagged ? 1 : 0),\n              0\n            )}{' '}\n            da rivedere)\n          </p>\n        </div>\n        {props.active && (\n          <Button label=\"Chiudi sezione\" onClick={props.closeSection} />\n        )}\n      </div>\n      <Timer timer={props.timer} expired={props.timerExpired} />\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useTimer } from 'react-timer-hook'\nimport { getNextSection, sectionInfo } from '../../utils/constants'\nimport { section, QuestionsData } from '../../utils/database'\nimport { createStyle } from '../../utils/style'\nimport { statePair } from '../../utils/types'\nimport { Answer, AnswersData, TimeRecord, view } from '../App'\nimport AnswerForm from './AnswerForm'\nimport BottomControls from './BottomControls'\nimport QuestionHeader from './QuestionHeader'\nimport QuestionView from './QuestionView'\nimport RecapBar from './RecapBar'\nimport SectionRecap from './SectionRecap'\nimport SectionStart from './SectionStart'\nimport TopControls from './TopControls'\n\nconst testingStyle = createStyle({ display: 'flex', flexDirection: 'column' })\n\ninterface QuestionsFormProps {\n  answersState: statePair<AnswersData>\n  questions: QuestionsData\n  sectionState: statePair<section>\n  timeRecordState: statePair<TimeRecord>\n  viewState: statePair<view>\n}\nexport default function QuestionsForm(props: QuestionsFormProps) {\n  const [qIndex, originalSetQIndex] = useState(0),\n    tmpFlaggedState = useState(false),\n    tmpAnswerState = useState<Answer['letter']>(),\n    tmpTimerExpiredState = useState(false),\n    alertDisplayedState = useState(false)\n\n  const [currentSection, setSection] = props.sectionState,\n    [view, setView] = props.viewState,\n    [answers, setAnswers] = props.answersState,\n    [timeRecord, setTimeRecord] = props.timeRecordState\n\n  const sectionQuestions = props.questions[props.sectionState[0]],\n    currentQuestion = sectionQuestions[qIndex],\n    currentAnswer = answers[currentSection][qIndex],\n    shouldShowAlert =\n      !alertDisplayedState[0] &&\n      (tmpAnswerState[0] != currentAnswer?.letter ||\n        tmpFlaggedState[0] != (currentAnswer?.flagged || false))\n\n  const showAlert = () => {\n    alert(\n      `Se prima non premi \"Conferma e vai alla successiva\" la risposta non verrà salvata.`\n    )\n    alertDisplayedState[1](true)\n  }\n\n  const closeSection = () => {\n    if (shouldShowAlert) return showAlert()\n    // else it's already reset by setQIndex\n\n    setView('TOL-secRecap')\n    setQIndex(0)\n    tmpAnswerState[1](undefined)\n    tmpFlaggedState[1](false)\n\n    const nextAnswers = answers\n    nextAnswers[currentSection] = nextAnswers[currentSection].map((a) => ({\n      ...a,\n      flagged: false\n    }))\n    setAnswers(nextAnswers)\n\n    const nextTR = timeRecord\n    nextTR[currentSection] =\n      sectionInfo[currentSection].minutes * 60 -\n      ((timer.hours * 60 + timer.minutes) * 60 + timer.seconds)\n    setTimeRecord(nextTR)\n\n    timer.restart(new Date(), false)\n  }\n\n  const setQIndex = (\n    index: React.SetStateAction<number>,\n    ignoreAlert = false\n  ) => {\n    if (shouldShowAlert && !ignoreAlert) {\n      showAlert()\n    } else {\n      const next = answers[currentSection][index as number]\n\n      tmpFlaggedState[1](next?.flagged || false)\n      tmpAnswerState[1](next?.letter || undefined)\n      alertDisplayedState[1](false)\n\n      originalSetQIndex(index)\n    }\n  }\n\n  const shiftQIndex = (offset: number, ignoreAlert = false) => {\n    const next =\n      (qIndex + offset + sectionQuestions.length) % sectionQuestions.length || 0\n    return setQIndex(next, ignoreAlert)\n  }\n\n  const timer = useTimer({\n    expiryTimestamp: getTimerExpDate(sectionInfo[currentSection].minutes),\n    autoStart: false,\n    onExpire: () => {\n      closeSection()\n      tmpTimerExpiredState[1](true)\n    }\n  })\n\n  const currentQuestionIndexState: statePair<number> = [qIndex, setQIndex]\n  if (!props.questions) return <span>Loading...</span>\n\n  const getViewElement = () => {\n    if (view == 'TOL-startSec')\n      return (\n        <SectionStart\n          section={currentSection}\n          startSection={() => {\n            setView('TOL-testing')\n            timer.start()\n          }}\n        />\n      )\n    else if (view == 'TOL-testing')\n      return (\n        <div style={testingStyle}>\n          <QuestionHeader\n            currentAnswer={currentAnswer}\n            questionIndex={qIndex}\n            shiftQuestionIndex={shiftQIndex}\n            sectionQuestions={sectionQuestions}\n          />\n          <QuestionView question={currentQuestion} />\n          <AnswerForm\n            currentAnswer={currentAnswer}\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n          />\n          <BottomControls\n            currentQuestion={currentQuestion}\n            tmpAnswerState={tmpAnswerState}\n            tmpFlaggedState={tmpFlaggedState}\n            updateAnswer={(a) => {\n              const next = answers\n              next[currentSection][qIndex] = a\n              setAnswers(next)\n              shiftQIndex(1, true)\n            }}\n          />\n        </div>\n      )\n    else if (view == 'TOL-secRecap')\n      return (\n        <SectionRecap\n          goToNextSection={() => {\n            const nextSection = getNextSection(currentSection)\n            if (nextSection) {\n              setSection(nextSection)\n              timer.restart(\n                getTimerExpDate(sectionInfo[nextSection].minutes),\n                false\n              )\n              tmpTimerExpiredState[1](false)\n              setView('TOL-startSec')\n            } else {\n              setView('INFO-end')\n            }\n          }}\n          section={currentSection}\n          secondsUsed={timeRecord[currentSection] || 0}\n          sectionAnswers={answers[currentSection]}\n          sectionQuestions={props.questions[currentSection]}\n        />\n      )\n    else return <div />\n  }\n\n  return (\n    <div>\n      <TopControls\n        active={view == 'TOL-testing'}\n        answers={answers}\n        closeSection={closeSection}\n        currentSection={currentSection}\n        questions={props.questions}\n        timer={timer}\n        timerExpired={tmpTimerExpiredState[0]}\n      />\n      <RecapBar\n        active={view == 'TOL-testing'}\n        currentQuestionIndexState={currentQuestionIndexState}\n        sectionAnswers={answers[currentSection]}\n        sectionQuestions={sectionQuestions}\n      />\n      {getViewElement()}\n    </div>\n  )\n}\n\nfunction getTimerExpDate(minutes: number) {\n  const res = new Date()\n  res.setSeconds(res.getSeconds() + minutes * 60)\n  return res\n}\n","import React from 'react'\nimport { createStyle, theme } from '../../utils/style'\n\nconst divStyle = createStyle({\n  height: '15px',\n  backgroundColor: theme.primary\n})\nconst textStyle = createStyle({\n  color: 'white',\n  margin: 'auto .5em',\n  fontSize: '9.5pt'\n})\n\ninterface SeparatorProps {\n  text?: string\n}\nexport default function Separator(props: SeparatorProps) {\n  return (\n    <div style={divStyle}>\n      <p style={textStyle}>{props.text || ''}</p>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  answerLetter,\n  section,\n  Database,\n  QuestionsData,\n  readDatabase,\n  selectRandomQuestions\n} from '../utils/database'\nimport DBPreview from './DBPreview'\nimport ErrorView from './ErrorView'\nimport Header from './Header'\nimport InfoView from './InfoView/InfoView'\nimport QuestionsForm from './QuestionsForm/QuestionsForm'\nimport Separator from './Util/Separator'\n\nexport type view =\n  | 'dbPreview'\n  | 'INFO-start'\n  | 'TOL-startSec'\n  | 'TOL-testing'\n  | 'TOL-secRecap'\n  | 'INFO-end'\n\nexport interface Answer {\n  id: string\n  sub?: string\n  letter: answerLetter | undefined\n  flagged: boolean\n}\n\nexport type AnswersData = Record<section, Answer[]>\n\nexport type TimeRecord = Partial<Record<section, number>>\n\nexport default function App() {\n  const [database, loadDatabase] = useState<Database>()\n  const [questions, setQuestions] = useState<QuestionsData>()\n  const [view, setView] = useState<view>('INFO-start')\n  const sectionState = useState<section>('ing')\n  const answersState = useState<AnswersData>({\n    ing: [],\n    mat: [],\n    com: [],\n    fis: []\n  })\n  const timeRecordState = useState<TimeRecord>({})\n  const [loadingError, showError] = useState<[string, Error] | []>([])\n\n  useEffect(() => {\n    if (!database)\n      readDatabase()\n        .then((db) => {\n          loadDatabase(db)\n          setQuestions(selectRandomQuestions(db))\n        })\n        .catch((e) => {\n          showError([\n            'There has been an issue while fetching the database data. Please retry later.',\n            e\n          ])\n        })\n  })\n\n  return (\n    <div>\n      <Header viewState={[view, setView]} />\n      <Separator />\n      <div style={{ paddingInline: '7.5px' }}>\n        <ErrorView\n          hidden={!loadingError[0]}\n          display={loadingError[0] || ''}\n          internal={loadingError[1]}\n        />\n        {view == 'dbPreview' && database ? (\n          <DBPreview db={database} />\n        ) : view.startsWith('TOL') && questions ? (\n          <QuestionsForm\n            answersState={answersState}\n            questions={questions as QuestionsData}\n            sectionState={sectionState}\n            timeRecordState={timeRecordState}\n            viewState={[view, setView]}\n          />\n        ) : view.startsWith('INFO') && questions ? (\n          <InfoView\n            answers={answersState[0]}\n            questions={questions}\n            viewState={[view, setView]}\n          />\n        ) : undefined}\n      </div>\n      <Separator />\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}